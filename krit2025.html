<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>FingerFlow</title>
    <link rel="icon" href="favicon.png" />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <!-- Добавляем элемент предупреждения для мобильных устройств -->
    <div class="mobile-warning">
      <div class="mobile-warning-content">
        <div class="mobile-warning-icon">
          <i class="fas fa-desktop"></i>
        </div>
        <div>Сайт функционирует только на десктопных устройствах</div>
      </div>
    </div>
    <!-- Добавляем элемент предупреждения для мобильных устройств -->
    <div class="mobile-warning">
      <div class="mobile-warning-content">
        <div class="mobile-warning-icon">
          <i class="fas fa-desktop"></i>
        </div>
        <div>Сайт функционирует только на десктопных устройствах</div>
      </div>
    </div>
    <!-- Боковая панель -->
    <nav class="sidebar">
      <!-- Логотип -->
      <!-- Логотип по умолчанию -->
      <a href="/" class="logo">
        <svg
          viewBox="0 0 495 495"
          width="40"
          height="28"
          class="logo-icon default-logo"
        >
          <path
            fill="currentColor"
            d="m389.99,0H105.01C47.01,0,0,47.01,0,105.01v284.98c0,58,47.01,105.01,105.01,105.01h284.98c58,0,105.01-47.01,105.01-105.01V105.01c0-58-47.01-105.01-105.01-105.01Zm14.32,98.87l-196.26,268.1c-2.14,2.94-5.19,5.08-8.68,6.11l-88.11,26.03c-12.85,3.8-24.67-8.43-20.43-21.14l29.03-87.18c1.15-3.45,3.4-6.43,6.4-8.47L400.93,95.37c2.29-1.56,5.02,1.26,3.38,3.5Z"
          />
        </svg>

        <!-- Герб СССР -->
        <svg
          viewBox="0 0 24 24"
          width="40"
          height="28"
          class="logo-icon ussr-logo"
          style="display: none"
        >
          <path fill="#801514" />
          <!-- Добавьте сюда более детализированный SVG-код для герба СССР -->
          <svg
            id="_РЎР»РѕР№_1"
            data-name="РЎР»РѕР№ 1"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 836.09 834.63"
            width="23"
            height="23"
          >
            <defs>
              <style>
                .cls-1 {
                  fill: #f1382f;
                  stroke-width: 0px;
                }
              </style>
            </defs>
            <path
              fill="#f1382f"
              d="m272.1,557.15c79.27,79.88,169.05,97.71,271.17,62.09-95.89-95.85-190.8-190.73-287.29-287.19-29.24,30.25-59.01,61.03-88.92,91.97-34.92-35.78-68.13-69.8-102.27-104.79.61-.67,2.87-3.35,5.34-5.82,60.33-60.35,120.64-120.73,181.19-180.86,3.11-3.08,8.58-5.97,12.63-5.59,58.06,5.48,116.06,11.53,174.08,17.49.88.09,1.72.62,4.87,1.81-36.85,37.06-72.86,73.28-108.26,108.88,100.19,100.14,200.01,199.91,300.44,300.3,19.62-22.07,34.81-47.92,44.68-76.91,18.22-53.49,10.96-105.99-7.28-157.66-23.31-66.02-62.16-122.83-106.84-175.94-41.96-49.87-88.6-95.05-138.85-136.53-2.62-2.17-5.14-4.46-6.61-8.39,1.76.56,3.61.93,5.28,1.7,95.99,44.42,184.75,99.65,259.35,175.57,44.92,45.71,82.78,96.77,99.74,159.39,28.76,106.22,7.65,203.13-60.76,289.53-2.48,3.13-5.18,6.08-7.72,9.16-.39.48-.46,1.22-1.54,4.29,15.68,15.15,32.34,30.9,48.61,47.05,19.63,19.49,39.13,39.12,58.31,59.06,20.45,21.26,19.26,53.41-2.25,74.29-20.43,19.83-53.46,19.35-73.81-.98-36.31-36.28-72.8-72.4-108.88-108.91-5.39-5.45-9.46-6.2-16.25-2.75-54.46,27.67-112.38,39.41-173.23,35.11-56.98-4.03-108.07-24.96-154.55-57.48-14.11-9.87-27.38-20.95-41.72-32-7.15,15.54-17.99,27.98-34.93,31.53-10.89,2.29-15.99,8.35-21.01,17.12-24.2,42.22-52.74,81.07-91.81,110.94-14.26,10.9-29.06,21.51-48.33,21.86-39.35.7-65.87-38.24-50.01-74.26,10.66-24.2,28.11-43.56,47.12-61.51,26.34-24.87,56.34-44.65,87.44-62.96,3.9-2.29,7.57-7.24,8.68-11.64,7.16-28.38,29.86-45,59.1-43.05,3.97.26,8.87-1.47,12.08-3.93,9.39-7.2,19.56-9.62,29.83-4.09,6.63,3.57,10.31,2.2,14.08-2.99,2.94-4.05,5.77-8.18,9.1-12.91Z"
            />
          </svg>
        </svg>
        <span class="logo-text">FingerFlow</span>
      </a>
      <div class="menu-group">
        <a href="/test" class="menu-item active">
          <svg viewBox="0 0 24 24" width="24" height="24">
            <path
              fill="currentColor"
              d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zM7 10h2v7H7zm4-3h2v10h-2zm4 6h2v4h-2z"
            />
          </svg>
          <span>Тест скорости</span>
        </a>
      </div>
      <!-- Основные разделы -->
      <div class="menu-group">
        <input type="checkbox" id="lessons-toggle" class="toggle-checkbox" />

        <label for="lessons-toggle" class="menu-item dropdown-toggle">
          <svg viewBox="0 0 24 24" width="24" height="24">
            <path
              fill="currentColor"
              d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"
            />
          </svg>
          <span>Уроки</span>
          <svg
            class="dropdown-arrow"
            viewBox="0 0 24 24"
            width="16"
            height="16"
          >
            <path fill="currentColor" d="M7 10l5 5 5-5z" />
          </svg>
        </label>

        <!-- Выпадающее меню предметов -->
        <div class="subjects-panel">
          <div class="subject-item" data-subject="math">Математика</div>
          <div class="subject-item" data-subject="russian">Русский язык</div>
          <div class="subject-item" data-subject="history">История</div>
          <div class="subject-item" data-subject="biology">Биология</div>
          <div class="subject-item" data-subject="geography">География</div>
          <div class="subject-item" data-subject="physics">Физика</div>
          <div class="subject-item" data-subject="scientificFacts">
            Научные факты
          </div>
        </div>
      </div>

      <div class="menu-group">
        <button
          class="menu-item dropdown-toggle"
          onclick="toggleDropdown('theme-menu')"
        >
          <svg viewBox="0 0 24 24" width="24" height="24">
            <path
              fill="currentColor"
              d="M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10zm0-1.5v-17a8.5 8.5 0 0 1 0 17z"
            />
          </svg>
          <span>Тема</span>
          <svg
            class="dropdown-arrow"
            viewBox="0 0 24 24"
            width="16"
            height="16"
          >
            <path fill="currentColor" d="M7 10l5 5 5-5z" />
          </svg>
        </button>

        <!-- Выпадающее меню тем -->
        <div id="theme-menu" class="dropdown-menu">
          <div
            class="theme-option"
            data-theme="dark"
            onclick="selectDesignTheme('dark')"
          >
            Тёмная
          </div>
          <div
            class="theme-option"
            data-theme="light"
            onclick="selectDesignTheme('light')"
          >
            Светлая
          </div>
          <div
            class="theme-option"
            data-theme="ocean"
            onclick="selectDesignTheme('ocean')"
          >
            Океан
          </div>
          <div
            class="theme-option"
            data-theme="ussr"
            onclick="selectDesignTheme('ussr')"
          >
            СССР
          </div>
        </div>
      </div>
      <div class="menu-group">
        <a class="menu-item" onclick="openCustomTextModal()">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            width="24"
            height="24"
          >
            <defs>
              <style>
                .cls-1,
                .cls-2 {
                  stroke-width: 0px;
                  fill: currentColor;
                }

                .cls-2 {
                  fill: #ffffff00;
                }
              </style>
            </defs>
            <path
              class="cls-1"
              d="m12.02,2c1.67,0,3.34,0,5.01,0,2.6,0,4.67,1.88,4.93,4.47.03.31.04.62.04.94,0,2.67-.01,5.33,0,8,0,1.42-.43,2.65-1.44,3.65-.55.55-1.1,1.1-1.66,1.64-.92.9-2.05,1.29-3.32,1.29-2.89,0-5.78.03-8.67,0-2.79-.03-4.89-2.19-4.9-5.01-.01-3.33-.01-6.67,0-10,.01-2.81,2.2-4.97,5-4.97,1.67,0,3.34,0,5.01,0Zm7.53,12.44c0-.09.02-.16.02-.22,0-2.29,0-4.58,0-6.87,0-.39-.04-.79-.14-1.16-.3-1.11-1.23-1.74-2.5-1.74-3.27,0-6.54,0-9.81,0-1.6,0-2.64,1.01-2.65,2.61-.01,3.28-.01,6.57,0,9.85,0,1.63,1.05,2.63,2.67,2.63,2.34,0,4.69,0,7.03,0,.08,0,.17,0,.28,0,0-.52,0-1.01,0-1.5.02-1.01.3-1.93,1.05-2.65.73-.7,1.63-.93,2.6-.95.48-.01.96,0,1.45,0Zm-2.64,4.59s.05.02.08.02c.81-.58,1.51-1.27,2.06-2.13-.47-.01-.93-.02-1.38.05-.38.06-.65.33-.7.73-.05.44-.05.89-.07,1.33Z"
            />
            <path
              class="cls-1"
              d="m12,8.84c-1.37,0-2.74,0-4.12,0-.14,0-.29-.01-.43-.04-.64-.11-1.05-.57-1.04-1.16.01-.67.4-1.11,1.07-1.21.13-.02.27-.03.41-.03,2.71,0,5.43,0,8.14,0,.23,0,.47.03.69.08.58.15.9.59.87,1.16-.03.6-.39,1.04-.97,1.15-.15.03-.3.04-.45.04-1.39,0-2.78,0-4.17,0Z"
            />
            <path
              class="cls-1"
              d="m12.03,10.79c1.38,0,2.76,0,4.14,0,.16,0,.32.02.48.05.63.15.97.58.95,1.21-.02.59-.41,1.02-1.03,1.12-.17.03-.33.04-.5.04-2.7,0-5.41,0-8.11,0-.18,0-.37-.01-.55-.05-.63-.12-1.01-.6-.98-1.21.03-.62.42-1.06,1.06-1.13.39-.04.78-.04,1.18-.04,1.12,0,2.25,0,3.37,0,0,0,0,.01,0,.02Z"
            />
            <path
              class="cls-1"
              d="m9.79,17.6c-.72,0-1.45.02-2.17,0-.89-.03-1.4-.76-1.14-1.61.14-.47.48-.7.94-.79.13-.02.26-.03.38-.03,1.33,0,2.67,0,4,0,.16,0,.32,0,.48.04.6.13.92.57.91,1.24-.01.57-.37,1-.95,1.11-.16.03-.33.04-.5.05-.65,0-1.3,0-1.95,0h0Z"
            />
          </svg>
          <span>Свой текст</span>
        </a>
      </div>
      <!-- Настройки внизу -->
      <div class="menu-group settings-group">
        <a href="/profile" class="menu-item">
          <svg viewBox="0 0 24 24" width="24" height="24">
            <path
              fill="currentColor"
              d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"
            />
          </svg>
          <span>Профиль</span>
        </a>
        <a class="menu-item" onclick="openSettings()">
          <svg viewBox="0 0 24 24" width="24" height="24">
            <path
              fill="currentColor"
              d="M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"
            />
          </svg>
          <span>Настройки</span>
        </a>
      </div>
    </nav>
    <!-- Модальное окно для ввода текста -->
    <div class="custom-text-overlay" id="custom-text-overlay">
      <div class="custom-text-content">
        <h2>Введите свой текст</h2>
        <textarea
          id="custom-text-input"
          rows="10"
          placeholder="Введите текст для тренировки..."
        ></textarea>
        <div class="settings-buttons">
          <button onclick="closeCustomTextModal()">Отмена</button>
          <button onclick="startWithCustomText()">Начать</button>
        </div>
      </div>
    </div>
    <div class="progress-bar-container" id="progress-bar-container">
      <div class="progress-bar" id="progress-bar">
        <div class="progress-bar-fill" id="progress-bar-fill"></div>
      </div>
      <div class="timer" id="timer"></div>
    </div>

    <div class="text-container" id="text-container">
      Участник конкурса "КРИТ-2025" Нуртдинов Шамиль приветствует жюри конкурса!
      Добро пожаловать на сайт теста скорости печати! Здесь вы можете улучшить
      свои навыки печати. Начните с выбора режима ниже.
      <div class="ready-text">Приготовьтесь! Поехали!</div>
    </div>
    <div class="stats" id="stats">
      <div>Скорость (WPM): <span id="wpm">0</span></div>
      <div>Скорость (CPM): <span id="cpm">0</span></div>
      <div>Точность: <span id="accuracy">100%</span></div>
    </div>

    <div class="buttons" id="buttons">
      <button onclick="startNormalMode()">
        <i class="fas fa-keyboard"></i>
      </button>
      <button onclick="toggleTimerButtons()">
        <i class="fas fa-stopwatch"></i>
      </button>
    </div>

    <div class="timer-buttons" id="timer-buttons">
      <button onclick="startTimedMode(15)">15</button>
      <button onclick="startTimedMode(30)">30</button>
      <button onclick="startTimedMode(45)">45</button>
      <button onclick="startTimedMode(60)">60</button>
      <button onclick="startTimedMode(120)">120</button>
    </div>

    <!-- Финальная панель -->
    <div class="result-overlay" id="result-overlay">
      <div class="result-content">
        <h2>Результаты</h2>
        <div class="results-container">
          <!-- Круговой график точности -->
          <div class="accuracy-chart">
            <svg viewBox="0 0 100 100" class="chart">
              <circle cx="50" cy="50" r="45" class="chart-background"></circle>
              <circle cx="50" cy="50" r="45" class="chart-progress"></circle>
              <text
                x="50"
                y="50"
                text-anchor="middle"
                dy=".3em"
                class="chart-text"
              >
                100%
              </text>
            </svg>
          </div>
          <!-- Показатели скорости и точности -->
          <div class="stats-results">
            <div>Скорость (WPM): <span id="result-wpm">0</span></div>
            <div>Скорость (CPM): <span id="result-cpm">0</span></div>
            <div>Точность: <span id="result-accuracy">100%</span></div>
          </div>
        </div>
        <!-- Визуализация клавиатуры -->
        <div class="keyboard-visualization">
          <div class="keyboard-row">
            <div class="key" data-key="й">й</div>
            <div class="key" data-key="ц">ц</div>
            <div class="key" data-key="у">у</div>
            <div class="key" data-key="к">к</div>
            <div class="key" data-key="е">е</div>
            <div class="key" data-key="н">н</div>
            <div class="key" data-key="г">г</div>
            <div class="key" data-key="ш">ш</div>
            <div class="key" data-key="щ">щ</div>
            <div class="key" data-key="з">з</div>
            <div class="key" data-key="х">х</div>
            <div class="key" data-key="ъ">ъ</div>
          </div>
          <div class="keyboard-row">
            <div class="key" data-key="ф">ф</div>
            <div class="key" data-key="ы">ы</div>
            <div class="key" data-key="в">в</div>
            <div class="key" data-key="а">а</div>
            <div class="key" data-key="п">п</div>
            <div class="key" data-key="р">р</div>
            <div class="key" data-key="о">о</div>
            <div class="key" data-key="л">л</div>
            <div class="key" data-key="д">д</div>
            <div class="key" data-key="ж">ж</div>
            <div class="key" data-key="э">э</div>
          </div>
          <div class="keyboard-row">
            <div class="key" data-key="я">я</div>
            <div class="key" data-key="ч">ч</div>
            <div class="key" data-key="с">с</div>
            <div class="key" data-key="м">м</div>
            <div class="key" data-key="и">и</div>
            <div class="key" data-key="т">т</div>
            <div class="key" data-key="ь">ь</div>
            <div class="key" data-key="б">б</div>
            <div class="key" data-key="ю">ю</div>
          </div>
        </div>
        <!-- Кнопка "Продолжить" -->
        <button onclick="continueGame()">Продолжить</button>
        <!-- Кнопка "Повторить" -->
        <button onclick="repeatGame()">Повторить</button>
      </div>
    </div>

    <!-- Кнопка настроек -->
    <button class="settings-button" id="settings-button">
      <i class="fas fa-keyboard"></i>
    </button>

    <!-- Всплывающее окно настроек -->
    <div class="settings-overlay" id="settings-overlay">
      <div class="settings-content" id="settings-content">
        <h2>Настройки</h2>
        <label for="font-size">Размер шрифта:</label>
        <input type="number" id="font-size" min="10" max="30" value="24" />
        <label for="font-color">Цвет шрифта:</label>
        <input type="color" id="font-color" value="#ffffff" />
        <label for="font-family">Шрифт:</label>
        <select id="font-family">
          <option value="Montserrat">Montserrat</option>
          <option value="Roboto">Roboto</option>
          <option value="Open Sans">Open Sans</option>
        </select>
        <label for="underline">Подчеркивание текста:</label>
        <select id="underline">
          <option value="none">Отключить</option>
          <option value="underline">Включить</option>
        </select>
        <div class="settings-buttons">
          <button onclick="closeSettings()">Отмена</button>
          <button onclick="saveSettings()">Сохранить</button>
        </div>
      </div>
    </div>
    <button class="keyboard-toggle" id="keyboard-toggle">
      <i class="fas fa-keyboard"></i>
    </button>

    <div class="virtual-keyboard-container" id="virtual-keyboard-container">
      <div class="virtual-keyboard">
        <div class="virtual-keyboard-row">
          <div class="virtual-key" data-key="й">Й</div>
          <div class="virtual-key" data-key="ц">Ц</div>
          <div class="virtual-key" data-key="у">У</div>
          <div class="virtual-key" data-key="к">К</div>
          <div class="virtual-key" data-key="е">Е</div>
          <div class="virtual-key" data-key="н">Н</div>
          <div class="virtual-key" data-key="г">Г</div>
          <div class="virtual-key" data-key="ш">Ш</div>
          <div class="virtual-key" data-key="щ">Щ</div>
          <div class="virtual-key" data-key="з">З</div>
          <div class="virtual-key" data-key="х">Х</div>
          <div class="virtual-key" data-key="ъ">Ъ</div>
        </div>

        <div class="virtual-keyboard-row">
          <div class="virtual-key" data-key="ф">Ф</div>
          <div class="virtual-key" data-key="ы">Ы</div>
          <div class="virtual-key" data-key="в">В</div>
          <div class="virtual-key" data-key="а">А</div>
          <div class="virtual-key" data-key="п">П</div>
          <div class="virtual-key" data-key="р">Р</div>
          <div class="virtual-key" data-key="о">О</div>
          <div class="virtual-key" data-key="л">Л</div>
          <div class="virtual-key" data-key="д">Д</div>
          <div class="virtual-key" data-key="ж">Ж</div>
          <div class="virtual-key" data-key="э">Э</div>
        </div>

        <div class="virtual-keyboard-row">
          <div class="virtual-key" data-key="я">Я</div>
          <div class="virtual-key" data-key="ч">Ч</div>
          <div class="virtual-key" data-key="с">С</div>
          <div class="virtual-key" data-key="м">М</div>
          <div class="virtual-key" data-key="и">И</div>
          <div class="virtual-key" data-key="т">Т</div>
          <div class="virtual-key" data-key="ь">Ь</div>
          <div class="virtual-key" data-key="б">Б</div>
          <div class="virtual-key" data-key="ю">Ю</div>
          <div class="virtual-key" data-key=".">.</div>
        </div>

        <div class="virtual-keyboard-row">
          <div class="virtual-key wide" data-key="Control">Ctrl</div>
          <div class="virtual-key wide" data-key="Alt">Alt</div>
          <div class="virtual-key space" data-key=" ">Space</div>
          <div class="virtual-key wide" data-key="Alt">Alt</div>
          <div class="virtual-key wide" data-key="Control">Ctrl</div>
        </div>
      </div>
    </div>
    <!-- Подключение файла с фактами -->
    <script src="facts.js"></script>
    <script src="script.js"></script>
  </body>
</html>
